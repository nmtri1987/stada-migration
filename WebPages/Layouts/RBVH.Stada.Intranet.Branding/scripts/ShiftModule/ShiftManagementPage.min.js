function getNumberOfDaysInMonth(n,t){return new Date(t,n,0).getDate()}function getDaysInMonth(n,t){for(var i,r=[],u=n;u<=31;u++)r.push(u);for(i=1;i<=t;i++)r.push(i);return r}var ShiftManagementPage={DataLoadFailError:"Failed to load data from server. Please try again!",NoDataMessage:"(No data)",LoadMyShiftSlickgrid:function(n){function i(n){function w(n,t,i,r,u){return'<div style="text-align:center;"> <b>'+u.MonthYear+"<\/b><\/div>"}var v=n.d.StartDay||21,y=n.d.EndDay||20,o=getDaysInMonth(v,y),f=n.d.MyShiftListData,c,s=[],p,e,t,i,r,u,l,a;if(f.length==0)for(e=0;e<1;e++)i=s[e]={},i.id="id_"+e,i.MonthYear="";else for(t=0;t<f.length;t++)for(i=s[t]={},i.id="id_"+t,i.MonthYear=f[t].MonthYear,r=1;r<=31;r++)i[r]=f[t][r]!=undefined?f[t][r]:"";var h=[],k=new Slick.CheckboxSelectColumn({cssClass:"slick-cell-checkboxsel"}),b={id:"MonthYear",name:"Month/Year",width:150,resizeable:!1,formatter:w};for(h.push(b),u=0;u<o.length;u++)l={id:o[u],resizeable:!1,name:o[u],field:o[u],width:80},h.push(l);a={editable:!1,enableAddRow:!0,enableCellNavigation:!0,asyncEditorLoading:!0,forceFitColumns:!1,autoEdit:!1,topPanelHeight:24,frozenColumn:0,enableColumnReorder:!1,autoHeight:!0};p=new Slick.Data.DataView;c=new Slick.Grid("#myShiftGrid",s,h,a);$("#myShiftGrid").on("shown",c.resizeCanvas)}var t=_spPageContextInfo.webAbsoluteUrl+"/_layouts/15/RBVH.Stada.Intranet.WebPages/WebServices.aspx/LoadMyShiftGridData";$.ajax({type:"POST",url:t,data:'{"pageNumber":'+n+"}",contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,success:function(n){n!=null?n.d.MyShiftListData!=null&&n.d.MyShiftListData.length==0?($("#myShiftGrid").hide(),$("#lblMyShiftNodata").html(ShiftManagementPage.NoDataMessage),$("#lblMyShiftNodata").show()):($("#myShiftGrid").show(),i(n)):alert(ShiftManagementPage.DataLoadFailError)},error:function(n){n.status==500}})}};$(document).ready(function(){$("#lblMyShiftNodata").hide();ShiftManagementPage.LoadMyShiftSlickgrid(1)});