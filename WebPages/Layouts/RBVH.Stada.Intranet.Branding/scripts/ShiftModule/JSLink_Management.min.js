(function(){function t(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",i)},"strings.js");var t=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:t,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&t.length>0&&$("#"+n.Container+" .department-locale").each(function(){var n=$(this).attr("data-id"),i=$(this);$(t).each(function(t,r){r.Id.toString()===n&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function i(){$("#"+n.Container+" #departmentTH").text(Res.shiftManagement_Department);$("#"+n.Container+" #locationTH").text(Res.shiftManagement_Location);$("#"+n.Container+" #requesterTH").text(Res.shiftManagement_Requester);$("#"+n.Container+" #month").text(Res.shiftManagement_Month);$("#"+n.Container+" #year").text(Res.shiftManagement_Year);$("#"+n.Container+" #approver").text(Res.shiftManagement_Approver);$("#"+n.Container+" #modifiedBy").text(Res.shiftManagement_ModifiedBy);$("#"+n.Container+" #action").text(Res.shiftManagement_EditTitle+" | "+Res.shiftManagement_ViewTitle);$("#"+n.Container+" #approvalStatus").text(Res.approvalStatusFieldDisplayName);$("#"+n.Container+" .label-success").text(Res.approvalStatus_Approved);$("#"+n.Container+" .label-default").text(Res.approvalStatus_InProgress)}function r(n){var r="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",u="<td>"+(n.CurrentItem.Editor.length>0?n.CurrentItem.Editor[0].title:"")+"<\/td>",t=window.location.href.split("#")[0];t=Functions.removeParam("lang",t);t+="#tab2";t=encodeURIComponent(t);var f='<span><a  href="/SitePages/ShiftRequest.aspx?itemid='+n.CurrentItem.ID+"&Source="+t+'"   class="table-action" style="margin-left: 10px;"><i class="fa fa-pencil-square-o" aria-hidden="true"><\/i><\/a><\/span>',e='<span><a  href="/SitePages/ShiftRequest.aspx?itemid='+n.CurrentItem.ID+"&Source="+t+'&mode=view"   class="table-action"><i class="fa fa-eye" aria-hidden="true"><\/i><\/a><\/span>',o="<td>"+f+e+"<\/td>",s="<td> "+n.CurrentItem.CommonMonth+"<\/td>",i=n.CurrentItem.CommonYear.replace(".","");i=i.replace(",","");var h="<td> "+i+"<\/td>",c='<td class="department-locale" data-id="'+n.CurrentItem.CommonDepartment[0].lookupId+'">'+n.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",l="<td> "+n.CurrentItem.CommonLocation[0].lookupValue+"<\/td>",a=!n.CurrentItem.CommonApprover1?"":n.CurrentItem.CommonApprover1[0].title,v="<td> "+a+"<\/td>";return"<tr>"+r+c+l+s+h+v+u+o+"<\/tr>"}function u(n){return ViewUtilities.Paging.InstanceHtml(n)}var n={ShiftManagement_Department:"Department",ShiftManagement_Location:"Location",ShiftManagement_Requester:"Requester",ShiftManagement_Month:"Month",ShiftManagement_Year:"Year",ShiftManagement_Approver:"Approver",ShiftManagement_ModifiedBy:"Modified By",Locale:"",ShiftManagement_EditTitle:"Edit",ShiftManagement_ViewTitle:"View",ListResourceFileName:"RBVHStadaLists",Container:"shift-request-list-container"};(function(){var i={};i.Templates={};i.ListTemplateType=10010;i.BaseViewID=4;i.Templates.Item=r;i.OnPreRender=function(){$(".ms-menutoolbar").hide()};i.OnPostRender=t;i.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='requesterTH'>"+n.ShiftManagement_Requester+"<\/th><th id='departmentTH'>"+n.ShiftManagement_Department+"<\/th><th id='locationTH'>"+n.ShiftManagement_Location+"<\/th><th id='month'>"+n.ShiftManagement_Month+"<\/th><th id='year'>"+n.ShiftManagement_Year+"<\/th><th id='approver'>"+n.ShiftManagement_Approver+"<\/th><th id='modifiedBy'>"+n.ShiftManagement_ModifiedBy+"<\/th><th id='action'>"+n.ShiftManagement_EditTitle+" | "+n.ShiftManagement_ViewTitle+"<\/th><\/tr><\/thead><tbody>";i.Templates.Footer=u;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(i)})()})();