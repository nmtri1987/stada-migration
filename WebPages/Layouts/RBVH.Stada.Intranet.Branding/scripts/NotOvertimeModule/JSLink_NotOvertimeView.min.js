function onQuerySucceeded(){location.reload()}function onQueryFailed(){}(function(){function t(t){var i={url:t,width:800,height:400,showClose:!0,allowMaximize:!1,title:n.ViewDetail};SP.SOD.execute("sp.ui.dialog.js","SP.UI.ModalDialog.showModalDialog",i)}function i(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",r);SP.SOD.registerSod(n.PageResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.PageResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.PageResourceFileName,"Res",u)},"strings.js");$(".cancel-request").click(function(){o($(this).attr("data-id"),$(this))});$(".viewdetailrequest").click(function(){url=$(this).attr("data-url");t(url)})}function r(){$(n.Container+" #requesterNotOverTimeManagementTH").text(Res.notOverTimeManagement_Requester);$(n.Container+" #hoursperdayNotOverTimeManagement").text(Res.notOverTimeManagement_HoursPerDay);$(n.Container+" #approvalStatusNotOverTimeManagement").text(Res.notOverTimeManagement_ApprovalStatus);$(n.Container+" #dateNotOverTimeManagement").text(Res.notOverTimeManagement_Date);$(n.Container+" #fromNotOverTimeManagement").text(Res.notOverTimeManagement_From);$(n.Container+" #toNotOverTimeManagement").text(Res.notOverTimeManagement_To);$(n.Container+" #reasonNotOverTimeManagement").text(Res.notOverTimeManagement_Reason);$(n.Container+" #commentNotOverTimeManagement").text(Res.commonComment);$(n.Container+" #viewDetailNotOverTimeManagement").text(Res.notOvertimeManagement_ViewTitle);$(n.Container+" .label-success").text(Res.approvalStatus_Approved);$(n.Container+" .label-default").text(Res.approvalStatus_InProgress);$(n.Container+" .label-warning").text(Res.approvalStatus_Cancelled);n.ApprovalStatus_Cancelled=Res.approvalStatus_Cancelled;$(n.Container+" .label-danger").text(Res.approvalStatus_Rejected);$(n.Container+" .cancel-request").text(Res.notOverTimeManagement_CancelRequest)}function u(){n.RequestStatusApproved=Res.requestStatusApproved;n.RequestStatusCancelled=Res.requestStatusCancelled;n.RequestStatusRejected=Res.requestStatusRejected;n.ViewDetail=Res.viewDetail}function f(n){var e="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",o="<td> "+n.CurrentItem.CommonDate+"<\/td>",s=n.CurrentItem.CommonFrom.match(/(\d{1,2}:\d{1,2})/i),h="<td> "+s[1]+"<\/td>",c=n.CurrentItem.To.match(/(\d{1,2}:\d{1,2})/i),l="<td> "+c[1]+"<\/td>",a="<td>"+n.CurrentItem.HoursPerDay+"<\/td>",v="<td>"+n.CurrentItem.Reason+"<\/td>",y="<td>"+n.CurrentItem.CommonComment+"<\/td>",r=n.CurrentItem.ApprovalStatus+"",t=window.location.href.split("#")[0],u,f,i;return t=Functions.removeParam("lang",t),t+="#tab1",t=encodeURIComponent(t),u='<span><a data-url="/Lists/NotOverTimeManagement/DispForm.aspx?ID='+n.CurrentItem.ID+"&TextOnly=true&Source="+t+'"   class="table-action viewdetailrequest"><i class="fa fa-eye" aria-hidden="true"><\/i><\/a><\/span>',u="<td>"+u+"<\/td>",f="<td><button type='button' class='btn btn-default btn-sm cancel-request' disabled  data-id='"+n.CurrentItem.ID+"'>Cancel Request<\/button><\/td>",r=r.toLowerCase(),i="",r=="approved"?i='<td><span class="label label-success">Approved<\/span><\/td>':r=="cancelled"?i='<td><span class="label label-warning">Cancelled<\/span><\/td>':r=="rejected"?i='<td><span class="label label-danger">Rejected<\/span><\/td>':(i='<td><span class="label label-default">In-Progress<\/span><\/td>',f="<td><button type='button' class='btn btn-default btn-sm cancel-request'  data-id='"+n.CurrentItem.ID+"'>Cancel Request<\/button><\/td>"),"<tr>"+e+a+o+h+l+v+y+i+u+f+"<\/tr>"}function e(n){return ViewUtilities.Paging.InstanceHtml(n)}function o(t,i){var r,f=_spPageContextInfo.webServerRelativeUrl,e=window.location.protocol+"//"+window.location.host+f,u=new SP.ClientContext(e),o=u.get_web().get_lists().getByTitle(String(n.NotOverTimeManagement_ListTitle));r=o.getItemById(t);u.load(r);u.executeQueryAsync(Function.createDelegate(this,function(){var u=r.get_item("ApprovalStatus");u&&u.toLowerCase()==="approved"?(alert(n.RequestStatusApproved),location.reload()):u&&u.toLowerCase()==="cancelled"?(alert(n.RequestStatusCancelled),location.reload()):u&&u.toLowerCase()==="rejected"?(alert(n.RequestStatusRejected),location.reload()):(s(t),$(i).attr("disabled","true"))}),Function.createDelegate(this,function(){}))}function s(t){var u=_spPageContextInfo.webServerRelativeUrl,f=window.location.protocol+"//"+window.location.host+u,i=new SP.ClientContext(f),r=i.get_web().get_lists().getByTitle(String(n.NotOverTimeManagement_ListTitle));i.load(r);this.oListItem=r.getItemById(t);oListItem.set_item("ApprovalStatus","Cancelled");oListItem.update();i.executeQueryAsync(Function.createDelegate(this,this.onQuerySucceeded),Function.createDelegate(this,this.onQueryFailed))}var n={NotOverTimeManagement_Requester:"Requester",NotOverTimeManagement_HoursPerDay:"Hours per Day",NotOverTimeManagement_To:"To",NotOverTimeManagement_From:"From",NotOverTimeManagement_ApprovalStatus:"Approval Status",NotOverTimeManagement_Date:"Date",NotOverTimeManagement_Reason:"Reason",NotOverTimeManagement_ListTitle:"Leave Of Absence For Overtime Management",NotOvertimeManagement_ViewTitle:"View",Comment:"Comment",ApprovalStatus_Cancelled:"Cancelled",RequestStatusApproved:"",RequestStatusCancelled:"",RequestStatusRejected:"",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",Locale:"",ViewDetail:"View item detail",Container:"#leaveOfAbsenceRequestContainer"};(function(){var t={};t.Templates={};t.BaseViewID=3;t.ListTemplateType=10007;t.Templates.Item=f;t.OnPreRender=function(){$(".ms-menutoolbar").hide()};t.OnPostRender=i;t.Templates.Header="<div class='col-md-12'><div hidden='true' id='cancelRequestMessage'>Can not cancel the request that was approved<\/div><table class='table'><thead><tr><th id='requesterNotOverTimeManagementTH'>"+n.NotOverTimeManagement_Requester+"<\/th><th id='hoursperdayNotOverTimeManagement'>"+n.NotOverTimeManagement_HoursPerDay+"<\/th><th id='dateNotOverTimeManagement'>"+n.NotOverTimeManagement_Date+"<\/th><th id='fromNotOverTimeManagement'>"+n.NotOverTimeManagement_From+"<\/th><th id='toNotOverTimeManagement'>"+n.NotOverTimeManagement_To+"<\/th><th id='reasonNotOverTimeManagement'>"+n.NotOverTimeManagement_Reason+"<\/th><th id='commentNotOverTimeManagement'>"+n.Comment+"<\/th><th id='approvalStatusNotOverTimeManagement'>"+n.NotOverTimeManagement_ApprovalStatus+"<\/th><th id='viewDetailNotOverTimeManagement'>"+n.NotOvertimeManagement_ViewTitle+"<\/th><th><\/th><\/tr><\/thead><tbody>";t.Templates.Footer=e;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(t)})()})();