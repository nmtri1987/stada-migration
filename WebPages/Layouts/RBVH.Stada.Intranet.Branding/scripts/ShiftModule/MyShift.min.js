RBVH.Stada.javascript.common.NamespaceManager.register("RBVH.Stada.WebPages.pages");RBVH.Stada.WebPages.pages.MyShift=function(n){var t=window.location.pathname;this.Settings={Id:n.Id,BeginDate:21,PageUrl:"//{0}"+t+"?Month={1}&Year={2}"};$.extend(!0,this.Settings,n);this.Initialize()};RBVH.Stada.WebPages.pages.MyShift.prototype={Initialize:function(){var n=this;$(document).ready(function(){n.InitControls();n.RegisterEvents()})},InitControls:function(){var i=this,n,t;$(i.Settings.MonthControlSelector).datepicker({viewMode:"months",minViewMode:"months",format:"mm/yyyy",autoclose:!0});n=RBVH.Stada.WebPages.Utilities.GetValueByParam("MyMonth");t=RBVH.Stada.WebPages.Utilities.GetValueByParam("MyYear");!!n==!1||!!t==!1?i.RebindUrl(n,t):$(i.Settings.MonthControlSelector).val(n+"/"+t)},RegisterEvents:function(){var n=this;$(n.Settings.MonthControlSelector).on("changeDate",function(t){var i=t.date.getMonth()+1,r=t.date.getYear()+1900;$(".datepicker").hide();n.RebindUrl(i,r,!0)})},RebindUrl:function(n,t){var r=n,u=t,e=window.location.hash,i=window.location.href.split("#")[0],f,s,o;(!!n==!1||!!t==!1)&&(f=new Date,s=f.getDate(),r=f.getMonth()+1,u=f.getYear()+1900,s>20&&r++,r==13&&(u++,r=1));o="";o=i.indexOf("?")>=0?"&":"?";i=i.indexOf("MyMonth=")>0?i.replace(/(MyMonth=)[^\&]+/,"$1"+r):i+o+"MyMonth="+r;i=i.indexOf("MyYear=")>0?i.replace(/(MyYear=)[^\&]+/,"$1"+u):i+"&MyYear="+u;e&&e.length>0&&(i+=e);window.location.href=i}};