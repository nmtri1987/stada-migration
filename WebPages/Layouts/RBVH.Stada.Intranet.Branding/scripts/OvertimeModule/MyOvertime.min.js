(function(){RBVH.Stada.javascript.common.NamespaceManager.register("RBVH.Stada.WebPages.pages");RBVH.Stada.WebPages.pages.MyOvertime=function(n){var t=window.location.pathname;this.Settings={Id:n.Id,BeginDate:21,PageUrl:"//{0}"+t+"?StartMonth={1}&EndMonth={2}"};$.extend(!0,this.Settings,n);this.Initialize()};RBVH.Stada.WebPages.pages.MyOvertime.prototype={Initialize:function(){var n=this;$(document).ready(function(){n.InitControls();n.RegisterEvents()})},InitControls:function(){var t=this,n,i,r;if($(t.Settings.MonthControlSelector).datepicker({viewMode:"months",minViewMode:"months",format:"mm/yyyy",autoclose:!0}),n=RBVH.Stada.WebPages.Utilities.GetValueByParam("MyStartMonth"),i=RBVH.Stada.WebPages.Utilities.GetValueByParam("MyEndMonth"),!!n==!1||!!i==!1)t.RebindUrl(n,i);else if(r=Date.parse(n),r!=NaN){var u=new Date(r),f=u.getMonth()+1,e=u.getFullYear();$(t.Settings.MonthControlSelector).val(f+"/"+e)}},RegisterEvents:function(){var n=this;$(n.Settings.MonthControlSelector).on("changeDate",function(t){var i=t.date.getMonth(),r=t.date.getYear()+1900,u,f;$(".datepicker").hide();u=new Date(r,i,1);f=new Date(r,i+1,0,23,59,59);n.RebindUrl(n.toISOStringTZ(u),n.toISOStringTZ(f),!0)})},toISOStringTZ:function(n){var t=(new Date).getTimezoneOffset()*6e4;return new Date(n.getTime()-t).toISOString().slice(0,-1)},RebindUrl:function(n,t){var s=this,o=window.location.hash,i=window.location.href.split("#")[0],f=new Date,u=n,r,e;u=typeof u!="undefined"?u:s.toISOStringTZ(new Date(f.getFullYear(),f.getMonth(),1));r=t;r=typeof r!="undefined"?r:s.toISOStringTZ(new Date(f.getFullYear(),f.getMonth()+1,0,23,59,59));e="";e="";e=i.indexOf("?")>=0?"&":"?";i=i.indexOf("MyStartMonth=")>0?i.replace(/(MyStartMonth=)[^\&]+/,"$1"+u):i+e+"MyStartMonth="+u;i=i.indexOf("MyEndMonth=")>0?i.replace(/(MyEndMonth=)[^\&]+/,"$1"+r):i+"&MyEndMonth="+r;o&&o.length>0&&(i+=o);window.location.href=i}}})();