(function(){function t(n){return ViewUtilities.Paging.InstanceHtml(n)}function i(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",r)},"strings.js","sp.js","string.js");var t=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:t,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&t.length>0&&$("#"+n.Container+" .department-locale").each(function(){var n=$(this).attr("data-id"),i=$(this);$(t).each(function(t,r){r.Id.toString()===n&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function r(){$("#viewDetailTH_freightDept").text(Res.freightManagement_ViewDetail);$("#requesterTH_freightDept").text(Res.freightManagement_Requester);$("#requestNoTH_freightDept").text(Res.freightManagement_RequestNumber);$("#departmentTH_freightDept").text(Res.overtime_Department);$("#bringerTH_freightDept").text(Res.freightManagement_Bringer);$("#receiverTH_freightDept").text(Res.freightManagement_Receiver);$("#createdTH_freightDept").text(Res.createdDate);$("#commentTH_freightDept").text(Res.commonComment);$("#isValid_freightDept").text(Res.freightList_IsValidRequest);$("#approvalStatusTH_freightDept").text(Res.freightManagement_ApprovalStatus);$("#vehicle_freightDept").text(Res.freightManagement_Vehicle);$("#"+n.Container+" .viewDetail").text(Res.freightManagement_ViewDetail);$(".label-success").text(Res.approvalStatus_Approved);$(".label-warning").text(Res.approvalStatus_Cancelled);$(".label-danger").text(Res.approvalStatus_Rejected);n.CompanyVehicle=Res.freightManagement_CompanyVehicle;$(".companyvehicle").text(n.CompanyVehicle)}function u(t){var c=_spPageContextInfo.currentLanguage,l="<td>"+t.CurrentItem.Requester[0].lookupValue+"<\/td>",a=t.CurrentItem.RequestNo!=null?"<td>"+t.CurrentItem.RequestNo+"<\/td>":"<td><\/td>",v='<td class="department-locale" data-id="'+t.CurrentItem.CommonDepartment[0].lookupId+'">'+t.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",o="<td><\/td>",s,i,f,u;o=t.CurrentItem.Bringer&&t.CurrentItem.Bringer[0].lookupId>0?"<td>"+t.CurrentItem.Bringer[0].lookupValue+"<\/td>":t.CurrentItem.BringerName&&t.CurrentItem.BringerName.length>0?"<td>"+t.CurrentItem.BringerName+"<\/td>":'<td class="companyvehicle">'+n.CompanyVehicle+"<\/td>";var y=t.CurrentItem.Receiver!=null?"<td>"+t.CurrentItem.Receiver+"<\/td>":"<td><\/td>",p="<td>"+t.CurrentItem.Created+"<\/td>",w=t.CurrentItem.CommonComment!=null?"<td>"+Functions.parseComment(t.CurrentItem.CommonComment)+"<\/td>":"<td><\/td>",r=window.location.href.split("#")[0];r=Functions.removeParam("lang",r);r+="#tab3";r=encodeURIComponent(r);s='<td><a href="/SitePages/FreightRequest.aspx?subSection=FreightManagement&itemId='+t.CurrentItem.ID+"&Source="+r+'"   class="viewDetail" >View Detail<\/a><\/td>';i=t.CurrentItem.ApprovalStatus+"";i=i.toLowerCase();f="";f=i=="approved"?'<td><span class="label label-success">Approved<\/span><\/td>':i=="cancelled"?'<td><span class="label label-warning">Cancelled<\/span><\/td>':i=="rejected"?'<td><span class="label label-danger">Rejected<\/span><\/td>':i&&i.length>0?'<td><span class="label label-default statusmultilang">'+t.CurrentItem.ApprovalStatus+"<\/span><\/td>":'<td><span class="label label-default">In-Progress<\/span><\/td>';u="";t.CurrentItem.VehicleLookup[0]&&(u=t.CurrentItem.VehicleLookup[0].lookupValue);c==1066&&(u=t.CurrentItem.VehicleVN!=null?t.CurrentItem.VehicleVN:"");var b="<td>"+u+"<\/td>",h="",e="";return t.CurrentItem["IsValidRequest.value"]&&t.CurrentItem["IsValidRequest.value"]==="1"?e="<td><span style='margin-left:25%; ' class='glyphicon glyphicon-ok'><\/td>":(e="<td><span style='margin-left:25%;' class='glyphicon glyphicon-remove'><\/td>",h="style='background-color: #fff7e6;'"),"<tr "+h+" >"+s+a+l+v+o+y+p+w+e+f+b+"<\/tr>"}var n={FreightManagement_ViewDetail:"View Detail",FreightManagement_Requester:"Requester",FreightManagement_Department:"Department",FreightManagement_Bringer:"Bringer",FreightManagement_Receiver:"Received by",FreightManagement_Created:"Created",FreightManagement_Comment:"Comment",FreightManagement_ApprovalStatus:"Approval status",FreightManagement_RequestNumber:"Request number",FreightManagement_Vehicle:"Vehicle",ApprovalStatus:"",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",CompanyVehicle:"Company's Vehicle",Locale:"",Container:"freight-bydepartment-container"};(function(){var r={};r.Templates={};r.Templates.Item=u;r.OnPreRender=function(){$(".ms-menutoolbar").hide()};r.ListTemplateType=10015;r.BaseViewID=4;r.OnPostRender=i;r.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='viewDetailTH_freightDept'>"+n.FreightManagement_ViewDetail+"<\/th><th id='requestNoTH_freightDept'>"+n.FreightManagement_RequestNumber+"<\/th><th id='requesterTH_freightDept'>"+n.FreightManagement_Requester+"<\/th><th id='departmentTH_freightDept'>"+n.FreightManagement_Department+"<\/th><th id='bringerTH_freightDept'>"+n.FreightManagement_Bringer+"<\/th><th id='receiverTH_freightDept'>"+n.FreightManagement_Receiver+"<\/th><th id='createdTH_freightDept'>"+n.FreightManagement_Created+"<\/th><th id='commentTH_freightDept'>"+n.FreightManagement_Comment+"<\/th><th id='isValid_freightDept'>"+n.LeaveManagement_IsValid+"<\/th><th id='approvalStatusTH_freightDept'>"+n.FreightManagement_ApprovalStatus+"<\/th><th id='vehicle_freightDept' style='min-width:80px;'>"+n.FreightManagement_Vehicle+"<\/th><th><\/th><\/tr><\/thead><tbody>";r.Templates.Footer=t;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(r)})()})();