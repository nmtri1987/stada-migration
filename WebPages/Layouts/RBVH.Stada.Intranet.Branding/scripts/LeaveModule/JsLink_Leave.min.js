function leaveSCR_LeavePostRender(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){SP.SOD.registerSod(LeaveRequestSecurityConfig.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+LeaveRequestSecurityConfig.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(LeaveRequestSecurityConfig.ListResourceFileName,"Res",leaveSCR_OnListResourcesReady)},"strings.js");$(".left-button").click(function(){$(this).attr("disabled","true");leaveSCR_UpdateLeftStatus($(this).attr("data-id"),$(this))});$(".entertime-button").click(function(){$(this).attr("disabled","true");leaveSCR_UpdateEnterTimeStatus($(this).attr("data-id"),$(this))});var n=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:n,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(n){n&&n.length>0&&$("#"+LeaveRequestSecurityConfig.Container+" .department-locale").each(function(){var t=$(this).attr("data-id"),i=$(this);$(n).each(function(n,r){r.Id.toString()===t&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function leaveSCR_OnListResourcesReady(){$("#leaveSCR_requester").text(Res.leaveList_Requester);$("#leaveSCR_department").text(Res.leaveList_Department);$("#leaveSCR_from").text(Res.leaveList_From);$("#leaveSCR_to").text(Res.leaveList_To);$("#leaveSCR_shift").text(Res.leaveList_Shift);$("#leaveSCR_leftAt").text(Res.leaveList_LeavedAt);$("#leaveSCR_checkoutby").text(Res.leaveList_CheckOutBy);$("#leaveSCR_photo").text(Res.leaveList_Avatar);$("#leaveSCR_EnterTime").text(Res.leaveList_EnterTime);$("#leaveSCR_checkinby").text(Res.leaveList_CheckInBy);$("#"+LeaveRequestSecurityConfig.Container+" .left-button").text(Res.leaveList_LeftButton);$("#"+LeaveRequestSecurityConfig.Container+" .entertime-button").text(Res.leaveList_Entered)}function leaveSCR_CustomItem(n){var r=n.CurrentItem.ID,c=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Employee/EmployeeService.svc/GetAvatar/"+n.CurrentItem.RequestFor[0].lookupId,l=$.ajax({url:c,method:"GET",async:!1,headers:{Accept:"application/json; odata=verbose"}}),t="";l.then(function(n){t=n!=""?"<td id='photo'><div class='customImageAvatar'>"+n+"<\/div><\/td>":"<td id='photo'><div class='customImageAvatar'>"+LeaveRequestSecurityConfig.DefaultAvatar+"<\/div><\/td>"},function(){t="<td  id='photo'><div class='customImageAvatar'>"+LeaveRequestSecurityConfig.DefaultAvatar+"<\/div><\/td>"});var a='<td style="vertical-align: middle;">'+Functions.removeInvalidValue(n.CurrentItem.RequestFor[0].lookupValue)+"<\/td>",v='<td class="department-locale" data-id="'+n.CurrentItem.CommonDepartment[0].lookupId+'" style="vertical-align: middle;">'+n.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",y='<td style="vertical-align: middle;">'+n.CurrentItem.CommonFrom+"<\/td>",p='<td style="vertical-align: middle;">'+n.CurrentItem.To+"<\/td>",w='<td style="vertical-align: middle;">'+n.CurrentItem.LeftAt+"<\/td>",u="";n.CurrentItem.CheckOutBy&&(u=n.CurrentItem.CheckOutBy[0].lookupValue);var b='<td style="vertical-align: middle;">'+u+"<\/td>",k='<td style="vertical-align: middle;">'+n.CurrentItem.EnterTime+"<\/td>",f="";n.CurrentItem.CheckInBy&&(f=n.CurrentItem.CheckInBy[0].lookupValue);var d='<td style="vertical-align: middle;">'+f+"<\/td>",e="",o="",s="";(n.CurrentItem.LeftAt||n.CurrentItem.LeftAt!="")&&(o="disabled");n.CurrentItem.EnterTime&&n.CurrentItem.EnterTime!=""&&(s="disabled");var g=n.CurrentItem.CommonDepartment[0].lookupId,nt=n.CurrentItem.RequestFor[0].lookupId,tt=_rbvhContext.EmployeeInfo.FactoryLocation.LookupId,i=new Date,it=i.getFullYear()+"-"+(i.getMonth()+1)+"-"+i.getDate(),h='<td style="vertical-align: middle;">HC<\/td>',rt=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/LeaveManagement/LeaveManagementService.svc/GetShiftTimeByDate/"+it+"/"+nt+"/"+g+"/"+tt;return $.ajax({url:rt,method:"GET",async:!1,headers:{Accept:"application/json; odata=verbose"}}).done(function(n){h='<td style="vertical-align: middle;">'+n+"<\/td>"}),e="<td style='vertical-align: middle;' nowrap><button type='button'  class='btn btn-default btn-sm left-button' "+o+" data-id='"+r+"'>Left<\/button><button type='button' style='margin-left: 10px;'  class='btn btn-default btn-sm entertime-button' "+s+" data-id='"+r+"'>Entered<\/button><\/td>","<tr>"+t+a+v+y+p+h+w+b+k+d+e+"<\/tr>"}function pagingControl(n){return ViewUtilities.Paging.InstanceHtml(n)}function leaveSCR_UpdateLeftStatus(n){var t=_spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('"+String(LeaveRequestSecurityConfig.LaveManagement_ListTitle)+"')/items("+n+")";$.ajax({url:t,method:"GET",async:!1,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&leaveSCR_UpdateItem(n)},error:function(){}})}function leaveSCR_UpdateItem(n){var u=_spPageContextInfo.webServerRelativeUrl,f=window.location.protocol+"//"+window.location.host+u,t=new SP.ClientContext(f),i=t.get_web().get_lists().getByTitle(String(LeaveRequestSecurityConfig.LaveManagement_ListTitle)),e=t.get_web().get_currentUser(),r;t.load(e);t.load(i);this.oListItem=i.getItemById(n);r=new Date;oListItem.set_item("LeftAt",r);oListItem.set_item("CheckOutBy",_rbvhContext.EmployeeInfo.ID);oListItem.update();t.executeQueryAsync(Function.createDelegate(this,this.leaveSCR_onQuerySucceeded),Function.createDelegate(this,this.leaveSCR_onQueryFailed))}function leaveSCR_UpdateEnterTimeStatus(n){var t=_spPageContextInfo.webAbsoluteUrl+"/_api/web/lists/getbytitle('"+String(LeaveRequestSecurityConfig.LaveManagement_ListTitle)+"')/items("+n+")";$.ajax({url:t,method:"GET",async:!1,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&leaveSCR_UpdateEnterTimeItem(n)},error:function(){}})}function leaveSCR_UpdateEnterTimeItem(n){var u=_spPageContextInfo.webServerRelativeUrl,f=window.location.protocol+"//"+window.location.host+u,t=new SP.ClientContext(f),i=t.get_web().get_lists().getByTitle(String(LeaveRequestSecurityConfig.LaveManagement_ListTitle)),e=t.get_web().get_currentUser(),r;t.load(e);t.load(i);this.oListItem=i.getItemById(n);r=new Date;oListItem.set_item("EnterTime",r);oListItem.set_item("CheckInBy",_rbvhContext.EmployeeInfo.ID);oListItem.update();t.executeQueryAsync(Function.createDelegate(this,this.leaveSCR_onQuerySucceeded),Function.createDelegate(this,this.leaveSCR_onQueryFailed))}function leaveSCR_onQuerySucceeded(){location.reload()}function leaveSCR_onQueryFailed(){location.reload()}(function(){function t(n){return ViewUtilities.Paging.InstanceHtml(n)}function i(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",r)},"strings.js");var t=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:t,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&t.length>0&&$("#"+n.Container+" .department-locale").each(function(){var n=$(this).attr("data-id"),i=$(this);$(t).each(function(t,r){r.Id.toString()===n&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function r(){$("#requester_leaveHistory").text(Res.leaveList_Requester);$("#requestFor_leaveHistory").text(Res.leaveList_RequestFor);$("#department_leaveHistory").text(Res.leaveList_Department);$("#from_leaveHistory").text(Res.leaveList_From);$("#to_leaveHistory").text(Res.leaveList_To);$("#reason_leaveHistory").text(Res.leaveList_Reason);$("#unexpected_leaveHistory").text(Res.leaveList_UnexpectedLeave);$("#isValid_leaveHistory").text(Res.leaveList_IsValidRequest);$("#leaveHours_leaveHistory").text(Res.leaveList_LeaveHours)}function u(n){var u="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",f="<td>"+n.CurrentItem.RequestFor[0].lookupValue+"<\/td>",e='<td class="department-locale" data-id="'+n.CurrentItem.CommonDepartment[0].lookupId+'">'+n.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",o="<td>"+n.CurrentItem.CommonFrom+"<\/td>",s="<td>"+n.CurrentItem.To+"<\/td>",h="<td>"+n.CurrentItem.LeaveHours+"<\/td>",c="<td>"+n.CurrentItem.Reason+"<\/td>",i="",t;n.CurrentItem["UnexpectedLeave.value"]&&n.CurrentItem["UnexpectedLeave.value"]==="1"&&(i="<span class='glyphicon glyphicon-ok leavemanagement-item-ok'>");var i="<td>"+i+"<\/td>",l="",r="";return n.CurrentItem["IsValidRequest.value"]&&n.CurrentItem["IsValidRequest.value"]==="1"?r="<td><span style='margin-left:25%; ' class='glyphicon glyphicon-ok'><\/td>":(r="<td><span style='margin-left:25%;' class='glyphicon glyphicon-remove'><\/td>",l="style='background-color: #fff7e6;'"),t=window.location.href.split("#")[0],t=Functions.removeParam("lang",t),t+="#tab3",t=encodeURIComponent(t),"<tr>"+u+f+e+o+s+h+c+i+r+"<\/tr>"}var n={LeaveManagement_ViewDetail:"View Detail",LeaveManagement_Requester:"Requester",LeaveManagement_RequestFor:"Request for",LeaveManagement_Department:"Department",LeaveManagement_From:"From",LeaveManagement_To:"To",LeaveManagement_Reason:"Reason",LeaveManagement_LeaveHours:"Leave Hours",LeaveManagement_IsValid:"Is Valid",LeaveManagement_UnexpectedLeave:"Unexpected leave",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",Locale:"",Container:"leave-history-list-container"};(function(){var r={};r.Templates={};r.Templates.Item=u;r.OnPreRender=function(){$(".ms-menutoolbar").hide()};r.ListTemplateType=10004;r.BaseViewID=5;r.OnPostRender=i;r.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='requester_leaveHistory'>"+n.LeaveManagement_Requester+"<\/th><th id='requestFor_leaveHistory'>"+n.LeaveManagement_RequestFor+"<\/th><th id='department_leaveHistory'>"+n.LeaveManagement_Department+"<\/th><th id='from_leaveHistory'>"+n.LeaveManagement_From+"<\/th><th id='to_leaveHistory'>"+n.LeaveManagement_To+"<\/th><th id='leaveHours_leaveHistory'>"+n.LeaveManagement_LeaveHours+"<\/th><th id='reason_leaveHistory'>"+n.LeaveManagement_Reason+"<\/th><th id='unexpected_leaveHistory'>"+n.LeaveManagement_UnexpectedLeave+"<\/th><th id='isValid_leaveHistory'>"+n.LeaveManagement_IsValid+"<\/th><th><\/th><\/tr><\/thead><tbody>";r.Templates.Footer=t;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(r)})()})(),function(){function t(n){return ViewUtilities.Paging.InstanceHtml(n)}function i(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",r)},"strings.js");var t=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:t,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&t.length>0&&$("#"+n.Container+" .department-locale").each(function(){var n=$(this).attr("data-id"),i=$(this);$(t).each(function(t,r){r.Id.toString()===n&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function r(){$("#leave_approval_viewDetail").text(Res.leaveList_ViewDetail);$("#leaveapproval_requester").text(Res.leaveList_Requester);$("#leaveapproval_requestFor").text(Res.leaveList_RequestFor);$("#leaveapproval_department").text(Res.leaveList_Department);$("#leaveapproval_from").text(Res.leaveList_From);$("#leaveapproval_to").text(Res.leaveList_To);$("#leaveapproval_leaveHours").text(Res.leaveList_LeaveHours);$("#leaveapproval_approvalStatus").text(Res.leaveList_ApprovalStatus);$("#"+n.Container+" .viewDetail").text(Res.leaveList_ViewDetail);$("#"+n.Container+" .label-success").text(Res.approvalStatus_Approved);$("#"+n.Container+" .label-warning").text(Res.approvalStatus_Cancelled);$("#"+n.Container+" .label-danger").text(Res.approvalStatus_Rejected)}function u(n){var f="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",e="<td>"+n.CurrentItem.RequestFor[0].lookupValue+"<\/td>",o='<td class="department-locale" data-id="'+n.CurrentItem.CommonDepartment[0].lookupId+'">'+n.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",s="<td>"+n.CurrentItem.CommonFrom+"<\/td>",h="<td>"+n.CurrentItem.To+"<\/td>",c="<td>"+n.CurrentItem.LeaveHours+"<\/td>",t=n.CurrentItem.ApprovalStatus+"",i=window.location.href.split("#")[0],u,r;return i=Functions.removeParam("lang",i),i+="#tab2",i=encodeURIComponent(i),u='<td><a href="/SitePages/LeaveRequest.aspx?subSection=LeaveManagement&itemId='+n.CurrentItem.ID+"&Source="+i+'"   class="viewDetail" >View Detail<\/a><\/td>',t=t.toLowerCase(),r="",r=t=="approved"?'<td><span class="label label-success">Approved<\/span><\/td>':t=="cancelled"?'<td><span class="label label-warning">Cancelled<\/span><\/td>':t=="rejected"?'<td><span class="label label-danger">Rejected<\/span><\/td>':t&&t.length>0?'<td><span class="label label-default statusmultilang">'+n.CurrentItem.ApprovalStatus+"<\/span><\/td>":'<td><span class="label label-default">In-Progress<\/span><\/td>',"<tr>"+u+f+e+o+s+h+c+r+"<\/tr>"}var n={LeaveManagement_ViewDetail:"View Detail",LeaveManagement_Requester:"Requester",LeaveManagement_RequestFor:"Request for",LeaveManagement_Department:"Department",LeaveManagement_From:"From",LeaveManagement_To:"To",LeaveManagement_LeaveHours:"Leave Hours",LeaveManagement_ApprovalStatus:"Approval Status",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",Locale:"",Container:"leave-approval-list-container"};(function(){var r={};r.Templates={};r.Templates.Item=u;r.OnPreRender=function(){$(".ms-menutoolbar").hide()};r.ListTemplateType=10004;r.BaseViewID=3;r.OnPostRender=i;r.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='leave_approval_viewDetail'>"+n.LeaveManagement_ViewDetail+"<\/th><th id='leaveapproval_requester'>"+n.LeaveManagement_Requester+"<\/th><th id='leaveapproval_requestFor'>"+n.LeaveManagement_RequestFor+"<\/th><th id='leaveapproval_department'>"+n.LeaveManagement_Department+"<\/th><th id='leaveapproval_from'>"+n.LeaveManagement_From+"<\/th><th id='leaveapproval_to'>"+n.LeaveManagement_To+"<\/th><th id='leaveapproval_leaveHours'>"+n.LeaveManagement_LeaveHours+"<\/th><th id='leaveapproval_approvalStatus'>"+n.LeaveManagement_ApprovalStatus+"<\/th><th><\/th><\/tr><\/thead><tbody>";r.Templates.Footer=t;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(r)})()}(),function(){function t(n){return ViewUtilities.Paging.InstanceHtml(n)}function i(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",r)},"strings.js");var t=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:t,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&t.length>0&&$("#"+n.Container+" .department-locale").each(function(){var n=$(this).attr("data-id"),i=$(this);$(t).each(function(t,r){r.Id.toString()===n&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function r(){$("#viewDetail_leaveDept").text(Res.leaveList_ViewDetail);$("#requester_leaveDept").text(Res.leaveList_Requester);$("#requestFor_leaveDept").text(Res.leaveList_RequestFor);$("#department_leaveDept").text(Res.leaveList_Department);$("#from_leaveDept").text(Res.leaveList_From);$("#to_leaveDept").text(Res.leaveList_To);$("#reason_leaveDept").text(Res.leaveList_Reason);$("#comment_leaveDept").text(Res.commonComment);$("#unexpected_leaveDept").text(Res.leaveList_UnexpectedLeave);$("#isValid_leaveDept").text(Res.leaveList_IsValidRequest);$("#leaveHours_leaveDept").text(Res.leaveList_LeaveHours);$("#approvalStatus_leaveDept").text(Res.leaveList_ApprovalStatus);$("#"+n.Container+" .viewDetail").text(Res.leaveList_ViewDetail);$("#"+n.Container+" .label-success").text(Res.approvalStatus_Approved);$("#"+n.Container+" .label-warning").text(Res.approvalStatus_Cancelled);n.ApprovalStatus_Cancelled=Res.approvalStatus_Cancelled;$("#"+n.Container+" .label-danger").text(Res.approvalStatus_Rejected)}function u(n){var o="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",s="<td>"+n.CurrentItem.RequestFor[0].lookupValue+"<\/td>",h='<td class="department-locale" data-id="'+n.CurrentItem.CommonDepartment[0].lookupId+'">'+n.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",c="<td>"+n.CurrentItem.CommonFrom+"<\/td>",l="<td>"+n.CurrentItem.To+"<\/td>",a="<td>"+n.CurrentItem.LeaveHours+"<\/td>",v="<td>"+n.CurrentItem.Reason+"<\/td>",y=n.CurrentItem.CommonComment!=null?"<td>"+Functions.parseComment(n.CurrentItem.CommonComment)+"<\/td>":"<td><\/td>",t=n.CurrentItem.ApprovalStatus+"",r="",i,e,f;n.CurrentItem["UnexpectedLeave.value"]&&n.CurrentItem["UnexpectedLeave.value"]==="1"&&(r="<span class='glyphicon glyphicon-ok leavemanagement-item-ok'>");var r="<td>"+r+"<\/td>",p="",u="";return n.CurrentItem["IsValidRequest.value"]&&n.CurrentItem["IsValidRequest.value"]==="1"?u="<td><span style='margin-left:25%; ' class='glyphicon glyphicon-ok'><\/td>":(u="<td><span style='margin-left:25%;' class='glyphicon glyphicon-remove'><\/td>",p="style='background-color: #fff7e6;'"),i=window.location.href.split("#")[0],i=Functions.removeParam("lang",i),i+="#tab3",i=encodeURIComponent(i),e='<td><a href="/SitePages/LeaveRequest.aspx?subSection=LeaveManagement&itemId='+n.CurrentItem.ID+"&Source="+i+'"   class="viewDetail" >View Detail<\/a><\/td>',t=t.toLowerCase(),f="",f=t=="approved"?'<td><span class="label label-success">Approved<\/span><\/td>':t=="cancelled"?'<td><span class="label label-warning">Cancelled<\/span><\/td>':t=="rejected"?'<td><span class="label label-danger">Rejected<\/span><\/td>':t&&t.length>0?'<td><span class="label label-default statusmultilang">'+n.CurrentItem.ApprovalStatus+"<\/span><\/td>":'<td><span class="label label-default">In-Progress<\/span><\/td>',"<tr>"+e+o+s+h+c+l+a+v+y+r+u+f+"<\/tr>"}var n={LeaveManagement_ViewDetail:"View Detail",LeaveManagement_Requester:"Requester",LeaveManagement_RequestFor:"Request for",LeaveManagement_Department:"Department",LeaveManagement_From:"From",LeaveManagement_To:"To",Comment:"Comment",LeaveManagement_Reason:"Reason",LeaveManagement_LeaveHours:"Leave Hours",LeaveManagement_IsValid:"Is Valid",LeaveManagement_UnexpectedLeave:"Unexpected leave",LeaveManagement_ApprovalStatus:"Approval Status",ApprovalStatus_Cancelled:"Cancelled",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",Locale:"",Container:"leave-dept-list-container"};(function(){var r={};r.Templates={};r.Templates.Item=u;r.OnPreRender=function(){$(".ms-menutoolbar").hide()};r.ListTemplateType=10004;r.BaseViewID=4;r.OnPostRender=i;r.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='viewDetail_leaveDept'>"+n.LeaveManagement_ViewDetail+"<\/th><th id='requester_leaveDept'>"+n.LeaveManagement_Requester+"<\/th><th id='requestFor_leaveDept'>"+n.LeaveManagement_RequestFor+"<\/th><th id='department_leaveDept'>"+n.LeaveManagement_Department+"<\/th><th id='from_leaveDept'>"+n.LeaveManagement_From+"<\/th><th id='to_leaveDept'>"+n.LeaveManagement_To+"<\/th><th id='leaveHours_leaveDept'>"+n.LeaveManagement_LeaveHours+"<\/th><th id='reason_leaveDept'>"+n.LeaveManagement_Reason+"<\/th><th id='comment_leaveDept'>"+n.Comment+"<\/th><th id='unexpected_leaveDept'>"+n.LeaveManagement_UnexpectedLeave+"<\/th><th id='isValid_leaveDept'>"+n.LeaveManagement_IsValid+"<\/th><th id='approvalStatus_leaveDept'>"+n.LeaveManagement_ApprovalStatus+"<\/th><th><\/th><\/tr><\/thead><tbody>";r.Templates.Footer=t;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(r)})()}(),function(){function t(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",i)},"strings.js");$(".leave-request-cancel").click(function(){$(this).attr("disabled","true");var t=$(this).attr("data-id"),n=window.location.protocol+"//{0}/_vti_bin/services/leavemanagement/leavemanagementservice.svc/CancelLeaveManagement/{1}";n=RBVH.Stada.WebPages.Utilities.String.format(n,location.host,t);t&&$.ajax({type:"GET",url:n,contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){n.Code===10&&alert(n.Message);window.location.reload()},error:function(){console.log("Error while cancelling this request")}})})}function i(){$("#leave-request-detail").text(Res.leaveList_ViewDetail);$("#leave-request-requester").text(Res.leaveList_Requester);$("#leave-request-request-for").text(Res.leaveList_RequestFor);$("#leave-request-from").text(Res.leaveList_From);$("#leave-request-to").text(Res.leaveList_To);$("#leave-request-hours").text(Res.leaveList_LeaveHours);$("#leave-request-status").text(Res.leaveList_ApprovalStatus);$("#leave-request-unexpected").text(Res.leaveList_UnexpectedLeave);$("#leave-request-isValid").text(Res.leaveList_IsValidRequest);$("#"+n.Container+" .viewDetail").text(Res.leaveList_ViewDetail);$("#"+n.Container+" .label-success").text(Res.approvalStatus_Approved);$("#"+n.Container+" .label-warning").text(Res.approvalStatus_Cancelled);$("#"+n.Container+" .label-danger").text(Res.approvalStatus_Rejected);$("#"+n.Container+" .leave-request-cancel").text(Res.leaveList_CancelRequest)}function r(n){var l="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",a="<td>"+n.CurrentItem.RequestFor[0].lookupValue+"<\/td>",v="<td>"+n.CurrentItem.CommonFrom+"<\/td>",y="<td>"+n.CurrentItem.To+"<\/td>",p="<td>"+n.CurrentItem.LeaveHours+"<\/td>",r="",s,t,f,i,h,e,c;n.CurrentItem["UnexpectedLeave.value"]&&n.CurrentItem["UnexpectedLeave.value"]==="1"&&(r="<span class='glyphicon glyphicon-ok leavemanagement-item-ok'>");var r="<td>"+r+"<\/td>",o="",u="";return n.CurrentItem["IsValidRequest.value"]&&n.CurrentItem["IsValidRequest.value"]==="1"?u="<td><span style='margin-left:25%; ' class='glyphicon glyphicon-ok'><\/td>":(u="<td><span style='margin-left:25%;' class='glyphicon glyphicon-remove'><\/td>",o="style='background-color: #fff7e6;'"),s="",t=n.CurrentItem.ApprovalStatus+"",t=t.toLowerCase(),f="",i=window.location.href.split("#")[0],i=Functions.removeParam("lang",i),i+="#tab1",i=encodeURIComponent(i),h='<td><a  href="/SitePages/LeaveRequest.aspx?subSection=LeaveManagement&itemId='+n.CurrentItem.ID+"&Source="+i+'"   class="viewDetail" >View Detail<\/a><\/td>',e="",(n.CurrentItem.Editor[0].id!==n.CurrentItem.Author[0].id||n.CurrentItem.Requester[0].lookupId!=_rbvhContext.EmployeeInfo.ID||n.CurrentItem.Editor[0].id===n.CurrentItem.Author[0].id&&(t==="approved"||t==="cancelled"||t==="rejected"))&&(e="disabled"),c="<td><button type='button' class='btn btn-default btn-sm leave-request-cancel' "+e+" data-id='"+n.CurrentItem.ID+"' "+s+">Cancel Request<\/button><\/td>",f=t=="approved"?'<td><span class="label label-success">Approved<\/span><\/td>':t=="cancelled"?'<td><span class="label label-warning">Cancelled<\/span><\/td>':t=="rejected"?'<td><span class="label label-danger">Rejected<\/span><\/td>':t&&t.length>0?'<td><span class="label label-default statusmultilang">'+n.CurrentItem.ApprovalStatus+"<\/span><\/td>":'<td><span class="label label-default">In-Progress<\/span><\/td>',"<tr "+o+" >"+h+l+a+v+y+p+f+r+u+c+"<\/tr>"}function u(n){return ViewUtilities.Paging.InstanceHtml(n)}var n={LeaveManagement_ViewDetail:"View Detail",LeaveManagement_Requester:"Requester",LeaveManagement_RequestFor:"Request for",LeaveManagement_From:"From",LeaveManagement_To:"To",LeaveManagement_LeaveHours:"Leave hours",LeaveManagement_ApprovalStatus:"Approval status",LeaveManagement_IsValid:"Is Valid",LeaveManagement_UnexpectedLeave:"Unexpected leave",LeaveManagement_ViewTitle:"View",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",Locale:"",Container:"leave-request-list-container"};(function(){var i={};i.Templates={};i.Templates.Item=r;i.OnPreRender=function(){$(".ms-menutoolbar").hide()};i.ListTemplateType=10004;i.BaseViewID=2;i.OnPostRender=t;i.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='leave-request-detail'>"+n.LeaveManagement_ViewDetail+"<\/th><th id='leave-request-requester'>"+n.LeaveManagement_Requester+"<\/th><th id='leave-request-request-for'>"+n.LeaveManagement_RequestFor+"<\/th><th id='leave-request-from'>"+n.LeaveManagement_From+"<\/th><th id='leave-request-to'>"+n.LeaveManagement_To+"<\/th><th id='leave-request-hours'>"+n.LeaveManagement_LeaveHours+"<\/th><th id='leave-request-status'>"+n.LeaveManagement_ApprovalStatus+"<\/th><th id='leave-request-unexpected'>"+n.LeaveManagement_UnexpectedLeave+"<\/th><th id='leave-request-isValid'>"+n.LeaveManagement_IsValid+"<\/th><th id='leave-request-action'><\/th><th><\/th><\/tr><\/thead><tbody>";i.Templates.Footer=u;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(i)})()}();var LeaveRequestSecurityConfig={LaveManagement_Requester:"Requester",LeaveManagement_Department:"Department",LaveManagement_From:"From",LaveManagement_To:"To",LeaveManagement_Shift:"Shift",LeaveManagement_LeaveHours:"Leave Hours",LaveManagement_Reason:"Reason",LeaveManagement_LeftAt:"Left At",LeaveManagement_CheckOutBy:"Check Out By",LeaveManagement_EnterTime:"Time In",LeaveManagement_CheckInBy:"Check In By",LaveManagement_RequesterPhoto:"Photo",LaveManagement_ListTitle:"Leave Management",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",DefaultAvatar:"<img src='/styles/images/DefaultAvatar.jpg'>",Container:"leave-sec-list-container"};(function(){var n={};n.Templates={};n.Templates.Item=leaveSCR_CustomItem;n.OnPreRender=function(){$(".ms-menutoolbar").hide()};n.ListTemplateType=10004;n.BaseViewID=6;n.OnPostRender=leaveSCR_LeavePostRender;n.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='leaveSCR_photo'>"+LeaveRequestSecurityConfig.LaveManagement_RequesterPhoto+"<\/th><th id='leaveSCR_requester'>"+LeaveRequestSecurityConfig.LaveManagement_Requester+"<\/th><th id='leaveSCR_department'>"+LeaveRequestSecurityConfig.LeaveManagement_Department+"<\/th><th id='leaveSCR_from'>"+LeaveRequestSecurityConfig.LaveManagement_From+"<\/th><th id='leaveSCR_to'>"+LeaveRequestSecurityConfig.LaveManagement_To+"<\/th><th id='leaveSCR_shift'>"+LeaveRequestSecurityConfig.LeaveManagement_Shift+"<\/th><th id='leaveSCR_leftAt'>"+LeaveRequestSecurityConfig.LeaveManagement_LeftAt+"<\/th><th id='leaveSCR_checkoutby'>"+LeaveRequestSecurityConfig.LeaveManagement_CheckOutBy+"<\/th><th id='leaveSCR_EnterTime'>"+LeaveRequestSecurityConfig.LeaveManagement_EnterTime+"<\/th><th id='leaveSCR_checkinby'>"+LeaveRequestSecurityConfig.LeaveManagement_CheckInBy+"<\/th><th><\/th><\/tr><\/thead><tbody>";n.Templates.Footer=pagingControl;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(n)})();