(function(){function t(n){return ViewUtilities.Paging.InstanceHtml(n)}function i(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",r)},"strings.js");var t=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:t,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&t.length>0&&$("#"+n.Container+" .department-locale").each(function(){var n=$(this).attr("data-id"),i=$(this);$(t).each(function(t,r){r.Id.toString()===n&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function r(){$("#viewDetail_leaveDept").text(Res.leaveList_ViewDetail);$("#requester_leaveDept").text(Res.leaveList_Requester);$("#requestFor_leaveDept").text(Res.leaveList_RequestFor);$("#department_leaveDept").text(Res.leaveList_Department);$("#from_leaveDept").text(Res.leaveList_From);$("#to_leaveDept").text(Res.leaveList_To);$("#reason_leaveDept").text(Res.leaveList_Reason);$("#comment_leaveDept").text(Res.commonComment);$("#unexpected_leaveDept").text(Res.leaveList_UnexpectedLeave);$("#isValid_leaveDept").text(Res.leaveList_IsValidRequest);$("#leaveHours_leaveDept").text(Res.leaveList_LeaveHours);$("#approvalStatus_leaveDept").text(Res.leaveList_ApprovalStatus);$("#"+n.Container+" .viewDetail").text(Res.leaveList_ViewDetail);$("#"+n.Container+" .label-success").text(Res.approvalStatus_Approved);$("#"+n.Container+" .label-warning").text(Res.approvalStatus_Cancelled);n.ApprovalStatus_Cancelled=Res.approvalStatus_Cancelled;$("#"+n.Container+" .label-danger").text(Res.approvalStatus_Rejected)}function u(n){var o="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",s="<td>"+n.CurrentItem.RequestFor[0].lookupValue+"<\/td>",h='<td class="department-locale" data-id="'+n.CurrentItem.CommonDepartment[0].lookupId+'">'+n.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",c="<td>"+n.CurrentItem.CommonFrom+"<\/td>",l="<td>"+n.CurrentItem.To+"<\/td>",a="<td>"+n.CurrentItem.LeaveHours+"<\/td>",v="<td>"+n.CurrentItem.Reason+"<\/td>",y=n.CurrentItem.CommonComment!=null?"<td>"+Functions.parseComment(n.CurrentItem.CommonComment)+"<\/td>":"<td><\/td>",t=n.CurrentItem.ApprovalStatus+"",r="",i,e,f;n.CurrentItem["UnexpectedLeave.value"]&&n.CurrentItem["UnexpectedLeave.value"]==="1"&&(r="<span class='glyphicon glyphicon-ok leavemanagement-item-ok'>");var r="<td>"+r+"<\/td>",p="",u="";return n.CurrentItem["IsValidRequest.value"]&&n.CurrentItem["IsValidRequest.value"]==="1"?u="<td><span style='margin-left:25%; ' class='glyphicon glyphicon-ok'><\/td>":(u="<td><span style='margin-left:25%;' class='glyphicon glyphicon-remove'><\/td>",p="style='background-color: #fff7e6;'"),i=window.location.href.split("#")[0],i=Functions.removeParam("lang",i),i+="#tab3",i=encodeURIComponent(i),e='<td><a href="/SitePages/LeaveRequest.aspx?subSection=LeaveManagement&itemId='+n.CurrentItem.ID+"&Source="+i+'"   class="viewDetail" >View Detail<\/a><\/td>',t=t.toLowerCase(),f="",f=t=="approved"?'<td><span class="label label-success">Approved<\/span><\/td>':t=="cancelled"?'<td><span class="label label-warning">Cancelled<\/span><\/td>':t=="rejected"?'<td><span class="label label-danger">Rejected<\/span><\/td>':t&&t.length>0?'<td><span class="label label-default statusmultilang">'+n.CurrentItem.ApprovalStatus+"<\/span><\/td>":'<td><span class="label label-default">In-Progress<\/span><\/td>',"<tr>"+e+o+s+h+c+l+a+v+y+r+u+f+"<\/tr>"}var n={LeaveManagement_ViewDetail:"View Detail",LeaveManagement_Requester:"Requester",LeaveManagement_RequestFor:"Request for",LeaveManagement_Department:"Department",LeaveManagement_From:"From",LeaveManagement_To:"To",Comment:"Comment",LeaveManagement_Reason:"Reason",LeaveManagement_LeaveHours:"Leave Hours",LeaveManagement_IsValid:"Is Valid",LeaveManagement_UnexpectedLeave:"Unexpected leave",LeaveManagement_ApprovalStatus:"Approval Status",ApprovalStatus_Cancelled:"Cancelled",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",Locale:"",Container:"leave-dept-list-container"};(function(){var r={};r.Templates={};r.Templates.Item=u;r.OnPreRender=function(){$(".ms-menutoolbar").hide()};r.ListTemplateType=10004;r.BaseViewID=4;r.OnPostRender=i;r.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='viewDetail_leaveDept'>"+n.LeaveManagement_ViewDetail+"<\/th><th id='requester_leaveDept'>"+n.LeaveManagement_Requester+"<\/th><th id='requestFor_leaveDept'>"+n.LeaveManagement_RequestFor+"<\/th><th id='department_leaveDept'>"+n.LeaveManagement_Department+"<\/th><th id='from_leaveDept'>"+n.LeaveManagement_From+"<\/th><th id='to_leaveDept'>"+n.LeaveManagement_To+"<\/th><th id='leaveHours_leaveDept'>"+n.LeaveManagement_LeaveHours+"<\/th><th id='reason_leaveDept'>"+n.LeaveManagement_Reason+"<\/th><th id='comment_leaveDept'>"+n.Comment+"<\/th><th id='unexpected_leaveDept'>"+n.LeaveManagement_UnexpectedLeave+"<\/th><th id='isValid_leaveDept'>"+n.LeaveManagement_IsValid+"<\/th><th id='approvalStatus_leaveDept'>"+n.LeaveManagement_ApprovalStatus+"<\/th><th><\/th><\/tr><\/thead><tbody>";r.Templates.Footer=t;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(r)})()})();