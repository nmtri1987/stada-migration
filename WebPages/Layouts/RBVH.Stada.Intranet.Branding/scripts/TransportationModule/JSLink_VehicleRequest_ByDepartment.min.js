(function(){function t(){SP.SOD.executeOrDelayUntilScriptLoaded(function(){n.Locale=Strings.STS.L_CurrentUICulture_Name;SP.SOD.registerSod(n.ListResourceFileName,"/_layouts/15/ScriptResx.ashx?name="+n.ListResourceFileName+"&culture="+STSHtmlEncode(Strings.STS.L_CurrentUICulture_Name));SP.SOD.executeFunc(n.ListResourceFileName,"Res",i)},"strings.js");var t=_spPageContextInfo.webAbsoluteUrl+"/_vti_bin/Services/Department/DepartmentService.svc/GetDepartments/"+_spPageContextInfo.currentUICultureName+"/"+_rbvhContext.EmployeeInfo.FactoryLocation.LookupId;$.ajax({url:t,method:"GET",async:!0,headers:{Accept:"application/json; odata=verbose"},success:function(t){t&&t.length>0&&$("#"+n.Container+" .department-locale").each(function(){var n=$(this).attr("data-id"),i=$(this);$(t).each(function(t,r){r.Id.toString()===n&&i.text(r.DepartmentName)})})},error:function(){status="failed"}})}function i(){$("#viewDetailTHVehicleDept").text(Res.vehicleManagement_ViewDetail);$("#requesterTHVehicleDept").text(Res.vehicleManagement_Requester);$("#departmentTHVehicleDept").text(Res.vehicleManagement_Department);$("#vehicleTypeTHVehicleDept").text(Res.vehicleManagement_VehicleType);$("#companyPickupTHVehicleDept").text(Res.vehicleManagement_CompanyPickup);$("#fromTHVehicleDept").text(Res.vehicleManagement_CommonFrom);$("#toTHVehicleDept").text(Res.vehicleManagement_CommonTo);$("#reasonTHVehicleDept").text(Res.vehicleManagement_Reason);$("#approvalStatusTHVehicleDept").text(Res.vehicleManagement_ApprovalStatus);$("#"+n.Container+" .label-success").text(Res.approvalStatus_Approved);$("#"+n.Container+" .label-warning").text(Res.approvalStatus_Cancelled);$("#"+n.Container+" .label-danger").text(Res.approvalStatus_Rejected);$("#"+n.Container+" .viewDetail").text(Res.vehicleManagement_ViewDetail);$("#vehicle-bydept-container tr").find('td:nth(3):contains("Company")').text(Res.vehicleManagement_VehicleType_Choice_Company);$("#vehicle-bydept-container tr").find('td:nth(3):contains("Private")').text(Res.vehicleManagement_VehicleType_Choice_Private)}function r(n){var f="<td>"+n.CurrentItem.Requester[0].lookupValue+"<\/td>",e='<td class="department-locale" data-id="'+n.CurrentItem.CommonDepartment[0].lookupId+'">'+n.CurrentItem.CommonDepartment[0].lookupValue+"<\/td>",o="<td> "+n.CurrentItem.VehicleType+"<\/td>",s=n.CurrentItem.CompanyPickup[0]==null?" ":n.CurrentItem.CompanyPickup[0].lookupValue,h="<td> "+s+"<\/td>",c="<td> "+n.CurrentItem.CommonFrom+"<\/td>",l="<td> "+n.CurrentItem.To+"<\/td>",a="<td>"+n.CurrentItem.Reason+"<\/td>",i=window.location.href.split("#")[0],u,t,r;return i=Functions.removeParam("lang",i),i+="#tab3",i=encodeURIComponent(i),u='<td><a href="/Lists/VehicleManagement/EditForm.aspx?subSection=TransportationManagement&ID='+n.CurrentItem.ID+"&Source="+i+'" class="viewDetail" >View Detail<\/a><\/td>',t=n.CurrentItem.ApprovalStatus+"",t=t.toLowerCase(),r="",r=t=="approved"?'<td><span class="label label-success">Approved<\/span><\/td>':t=="cancelled"?'<td><span class="label label-warning">Cancelled<\/span><\/td>':t=="rejected"?'<td><span class="label label-danger">Rejected<\/span><\/td>':t&&t.length>0?'<td><span class="label label-default statusmultilang">'+n.CurrentItem.ApprovalStatus+"<\/span><\/td>":'<td><span class="label label-default">In-Progress<\/span><\/td>',"<tr>"+u+f+e+o+h+c+l+a+r+"<\/tr>"}function u(n){return ViewUtilities.Paging.InstanceHtml(n)}var n={VehicleManagement_ViewDetail:"View Detail",VehicleManagement_Requester:"Requester",VehicleManagement_Department:"Department",VehicleManagement_VehicleType:"Vehicle Type",VehicleManagement_CompanyPickup:"Company Pickup",VehicleManagement_CommonFrom:"From",VehicleManagement_CommonTo:"To",VehicleManagement_Reason:"Reason",VehicleManagement_ApprovalStatus:"Approval Status",ListResourceFileName:"RBVHStadaLists",PageResourceFileName:"RBVHStadaWebpages",Locale:"",Container:"vehicle-bydept-container"};(function(){var i={};i.Templates={};i.Templates.Item=r;i.OnPreRender=function(){$(".ms-menutoolbar").hide()};i.BaseViewID=2;i.ListTemplateType=10013;i.OnPostRender=t;i.Templates.Header="<div class='col-md-12'><table class='table'><thead><tr><th id='viewDetailTHVehicleDept'>"+n.VehicleManagement_ViewDetail+"<\/th><th id='requesterTHVehicleDept'>"+n.VehicleManagement_Requester+"<\/th><th id='departmentTHVehicleDept'>"+n.VehicleManagement_Department+"<\/th><th id='vehicleTypeTHVehicleDept'>"+n.VehicleManagement_VehicleType+"<\/th><th id='companyPickupTHVehicleDept'>"+n.VehicleManagement_CompanyPickup+"<\/th><th id='fromTHVehicleDept'>"+n.VehicleManagement_CommonFrom+"<\/th><th id='toTHVehicleDept'>"+n.VehicleManagement_CommonTo+"<\/th><th id='reasonTHVehicleDept'>"+n.VehicleManagement_Reason+"<\/th><th id='approvalStatusTHVehicleDept'>"+n.VehicleManagement_ApprovalStatus+"<\/th><\/tr><\/thead><tbody>";i.Templates.Footer=u;SPClientTemplates.TemplateManager.RegisterTemplateOverrides(i)})()})();