function getUrlParameter(n){for(var u=decodeURIComponent(window.location.search.substring(1)),r=u.split("&"),t,i=0;i<r.length;i++)if(t=r[i].split("="),t[0]===n)return t[1]===undefined?!0:t[1]}function ViewShiftManagementGrid(n){function i(n,t){return n==1?(n=12,t--):n--,new Date(t,n,0).getDate()}function r(n,t){for(var r,u=[],e=i(n,t),f=21;f<=e;f++)u.push(f);for(r=1;r<=20;r++)u.push(r);return u}function u(n){function k(n,t,i,r,u){return'<div style="text-align:center;"> <b>'+u.EmployeeID+"<\/b><\/div>"}function d(n,t,i,r,u){return'<div style="text-align:center;"> <b>'+u.EmployeeName+"<\/b><\/div>"}var p=n.d.Month,w=n.d.Year,o=r(p,w),f=n.d.ShiftManagementData,c,h=[],s,t,i,e,b,l,a,u,v,y;if(f.length==0)for(s=0;s<1;s++)t=h[s]={},t.EmployeeID="",t.EmployeeName="";else for(t=h[0]={},t.EmployeeID=f.EmployeeID,t.EmployeeName=f.EmployeeName,i=1;i<=31;i++)t[i]=f[i]!=undefined?f[i]:"";for(e=[],b=new Slick.CheckboxSelectColumn({}),l={id:"EmployeeID",name:ViewShiftRequestPage.EmployeeIdGridColumn,field:"EmployeeID",width:120,resizable:!1,formatter:k},e.push(l),a={id:"EmployeeName",name:ViewShiftRequestPage.EmployeeNameGridColumn,field:"EmployeeName",width:150,formatter:d},e.push(a),u=0;u<o.length;u++)v={id:o[u],name:o[u],field:o[u],width:80},e.push(v);y={editable:!1,enableAddRow:!0,enableCellNavigation:!0,asyncEditorLoading:!0,forceFitColumns:!1,autoEdit:!1,topPanelHeight:25,frozenColumn:1,enableColumnReorder:!1,autoHeight:!0};c=new Slick.Grid("#ViewShiftRequestGrid",h,e,y);$("#ViewShiftRequestGrid").on("shown",c.resizeCanvas);$("#btnViewShiftBack").click(function(n){var r=getUrlParameter("Task"),t=getUrlParameter("Source"),i;t!=""&&t!=undefined?(i=t+"?ID="+r+"&Source=/SitePages/ShiftManagement.aspx",window.location.href=i):window.location.href=_spPageContextInfo.webAbsoluteUrl;n.preventDefault()})}var t=_spPageContextInfo.webAbsoluteUrl+"/_layouts/15/RBVH.Stada.Intranet.WebPages/WebServices.aspx/LoadViewShiftGrid";$.ajax({type:"POST",url:t,data:'{"shiftId":'+n+"}",contentType:"application/json; charset=utf-8",dataType:"json",cache:!1,success:function(n){n!=null?($("#viewShiftGridNodata").hide(),u(n)):($("#ViewShiftRequestGrid").hide(),$("#viewShiftGridNodata").show(),$("#viewShiftGridNodata").html("(No data)"))},error:function(n){n.status==500}})}var ViewShiftRequestPage={EmployeeIdGridColumn:"EmployeeID",EmployeeNameGridColumn:"Employee Name",BackButton:"Back"};$(document).ready(function(){var n=getUrlParameter("shiftId");n!=""&&n!=undefined?($("#ViewShiftRequestGrid").show(),$("#viewShiftGridNodata").hide(),ViewShiftManagementGrid(n)):($("#viewShiftGridNodata").html("(No data)"),$("#viewShiftGridNodata").show(),$("#ViewShiftRequestGrid").hide())});